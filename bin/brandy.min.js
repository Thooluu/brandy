/**!
 * brandy v0.0.0
 * http://www.github.com/rstone770/brandy
 *
 * Release under the MIT license.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Brandy=e()}}(function(){return function e(r,t,n){function o(u,s){if(!t[u]){if(!r[u]){var f="function"==typeof require&&require;if(!s&&f)return f(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[u]={exports:{}};r[u][0].call(l.exports,function(e){var t=r[u][1][e];return o(t?t:e)},l,l.exports,e,r,t,n)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,r,t){var n=e("./lifecycle"),o=function(e,r){return new(Function.bind.apply(e,[null].concat(r)))},i=function(e,r){return function(t){return o(e,r.map(function(e){return t.instance(e)}))}},u=function(e,r){if(null==e)throw new Error("cache must be provided.");if(null==r)throw new Error("registry must be provided.");this._cache=e,this._registry=r};u.prototype.bind=function(e,r,t,n){if(Array.isArray(t)&&3==arguments.length&&(n=t,t=null),null==e)throw new Error("T must be provided.");if(null==typeof r)throw new Error("implementation must be provided.");if(null!=n&&!Array.isArray(n))throw new Error("dependencies must be an array.");return this.factory(e,i(r,n||[]),t)},u.prototype.factory=function(e,r,t){if(null==e)throw new Error("T must be provided.");if("function"!=typeof r)throw new Error("factory must be callable.");return this._registry.set(e,{factory:r,lifecycle:n.parse(t||n.SINGLETON),type:e}),this},u.prototype.instance=function(e){if(null==e)throw new Error("T must be provided.");var r=this._registry.get(e);if(null==r)throw new Error(e+" has not been registered.");var t=null;switch(r.lifecycle){case n.SINGLETON:t=this._resolveSingleton(r);break;case n.TRANSIENT:t=this._resolveTransient(r);break;default:throw new Error("Unsupported lifecycle "+r.lifecycle+".")}if(null==t)throw new Error("An instance for "+e+" could not be constructed.");return t},u.prototype.enumerate=function(){var e=this._registry,r=e.keys();return r.map(function(r){var t=e.get(r),n={factory:t.factory,lifecycle:t.lifecycle,type:t.type};return n})},u.prototype._resolveSingleton=function(e){var r=this._cache.get(e.type);return null==r&&this._cache.set(e.type,r=this._resolveTransient(e)),r},u.prototype._resolveTransient=function(e){return e.factory(this)},r.exports=u},{"./lifecycle":3}],2:[function(e,r,t){var n=e("./container"),o=e("./registry"),i=function(){var e=o.create(),r=o.create();return new n(e,r)};r.exports=i,r.exports.Container=n,r.exports.version="0.0.0"},{"./container":1,"./registry":4}],3:[function(e,r,t){var n={TRANSIENT:"TRANSIENT",SINGLETON:"SINGLETON",parse:function(e){var r=null;if("string"==typeof e){var t=e.toUpperCase();this[t]==t&&(r=this[t])}if(null==r)throw new Error("Unable to parse "+e+" as Lifecycle.");return r}};r.exports=n},{}],4:[function(e,r,t){var n=Object.prototype.hasOwnProperty,o=function(){this._registry={}};o.create=function(){return new o},o.prototype.get=function(e){if("string"!=typeof e)throw new Error("key must be a string.");var r=null;return n.call(this._registry,e)&&(r=this._registry[e]),r},o.prototype.keys=function(){return Object.keys(this._registry)},o.prototype.set=function(e,r){if("string"!=typeof e)throw new Error("key must be a string.");if(null==r)throw new Error("value must be provided.");this._registry[e]=r},r.exports=o},{}]},{},[2])(2)});