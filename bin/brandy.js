/**!
 * brandy v0.0.0
 * http://www.github.com/rstone770/brandy
 *
 * Release under the MIT license.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Brandy=e()}}(function(){return function e(r,t,n){function i(s,u){if(!t[s]){if(!r[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[s]={exports:{}};r[s][0].call(c.exports,function(e){var t=r[s][1][e];return i(t?t:e)},c,c.exports,e,r,t,n)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,r,t){var n=e("./lifecycle"),i=function(e,r){return new(Function.bind.apply(e,[null].concat(r)))},o=function(e,r){return function(t){return i(e,r.map(function(e){return t.instance(e)}))}},s=function(e,r){if(null==e)throw new Error("cache must be provided.");if(null==r)throw new Error("registry must be provided.");this._cache=e,this._registry=r,this._pending={}};s.prototype.bind=function(e,r,t,n){if(Array.isArray(t)&&3==arguments.length&&(n=t,t=null),null==e)throw new Error("T must be provided.");if(null==typeof r)throw new Error("implementation must be provided.");if(null!=n&&!Array.isArray(n))throw new Error("dependencies must be an array.");return this.factory(e,o(r,n||[]),t)},s.prototype.factory=function(e,r,t){if(null==e)throw new Error("T must be provided.");if("function"!=typeof r)throw new Error("factory must be callable.");return this._registry.set(e,{factory:r,lifecycle:n.parse(t||n.SINGLETON),type:e}),this},s.prototype.instance=function(e){var r=null,t=null;if(null!=e){var i=this._registry.get(e);null!=i?"undefined"==typeof this._pending[i.type]?(this._pending[i.type]=!0,i.lifecycle===n.SINGLETON?t=this._resolveSingleton(i):i.lifecycle===n.TRANSIENT?t=this._resolveTransient(i):r=new Error("Unsupported lifecycle "+i.lifecycle+"."),delete this._pending[i.type]):r=new Error("Circular dependency detected while resolving "+i.type+"."):r=new Error(e+" has not been registered.")}else r=new Error("T must be provided.");if(null!=r)throw this._pending={},r;return t},s.prototype.enumerate=function(){var e=this._registry,r=e.keys();return r.map(function(r){var t=e.get(r),n={factory:t.factory,lifecycle:t.lifecycle,type:t.type};return n})},s.prototype._resolveSingleton=function(e){var r=this._cache.get(e.type);return null==r&&this._cache.set(e.type,r=this._resolveTransient(e)),r},s.prototype._resolveTransient=function(e){return e.factory(this)},r.exports=s},{"./lifecycle":3}],2:[function(e,r,t){var n=e("./container"),i=e("./registry"),o=function(){var e=i.create(),r=i.create();return new n(e,r)};r.exports=o,r.exports.Container=n,r.exports.version="0.0.0"},{"./container":1,"./registry":4}],3:[function(e,r,t){var n={TRANSIENT:"TRANSIENT",SINGLETON:"SINGLETON",parse:function(e){var r=null;if("string"==typeof e){var t=e.toUpperCase();this[t]==t&&(r=this[t])}if(null==r)throw new Error("Unable to parse "+e+" as Lifecycle.");return r}};r.exports=n},{}],4:[function(e,r,t){var n=Object.prototype.hasOwnProperty,i=function(){this._registry={}};i.create=function(){return new i},i.prototype.get=function(e){if("string"!=typeof e)throw new Error("key must be a string.");var r=null;return n.call(this._registry,e)&&(r=this._registry[e]),r},i.prototype.keys=function(){return Object.keys(this._registry)},i.prototype.set=function(e,r){if("string"!=typeof e)throw new Error("key must be a string.");if(null==r)throw new Error("value must be provided.");return this._registry[e]=r,this},r.exports=i},{}]},{},[2])(2)});